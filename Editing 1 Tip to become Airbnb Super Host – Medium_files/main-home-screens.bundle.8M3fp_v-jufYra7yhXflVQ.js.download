(function(z){
'use strict';var j0=function(a){z.H.call(this);this.C(a)},k0=function(a){z.Lf.call(this);this.C(a)},l0=function(a){z.Lf.call(this);this.C(a)},ZUa=function(a,b){return z.t(a.Z.get(b),a.e2,a)},$Ua=function(a,b,c){return z.t(c?z.ec(a.Ca.e2(c)):ZUa(a.Ca,b),function(c){a.la.nc(c);var e=z.OM(a,b);z.TC(e,c.streamItems,c.paging);c.qe=e})},m0=function(a){k0.apply(this,arguments)},n0=function(a){l0.apply(this,arguments)},aVa=function(a,b,c){var d=a.V.R(z.Yn,{collectionSlug:b});return z.oD(a,d,function(){return $Ua(this.rb,
d,c)})},bVa=function(a){if(!a.length)throw Error("getFirst called on an empty array");return a[0]},o0=function(){return(0,z.w)('\x3cdiv class\x3d"u-flex u-marginBottom24"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--smaller"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},p0=function(){return(0,z.w)('\x3csection class\x3d"extremePostPreview u-marginBottom48 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"extremePostPreview-post u-minWidth0 u-flex1 u-marginRight24 u-textAlignLeft"\x3e\x3cdiv class\x3d"u-clearfix u-marginBottom16"\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--truncated"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-flex"\x3e\x3cdiv class\x3d"avatarPlaceholder u-height32 u-width32 u-flex0"\x3e\x3c/div\x3e\x3cdiv\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder--thin linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"extremePostPreview-image u-background--brandDust u-flex0 u-width152 u-height145 u-xs-width80 u-xs-height72"\x3e\x3c/div\x3e\x3c/section\x3e')},
cVa=function(){return(0,z.w)('\x3cdiv class\x3d"u-marginBottom32 u-animation--shimmerInfinite"\x3e\x3cdiv class\x3d"u-marginRight32 u-marginLeft32 u-paddingBottom16 u-borderBottomLightest u-clearfix"\x3e\x3cdiv class\x3d"linePlaceholder linePlaceholder-thick linePlaceholder--small"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"u-padding32 u-clearfix"\x3e'+o0()+o0()+o0()+"\x3c/div\x3e\x3c/div\x3e")},q0=function(a){z.H.call(this);this.C(a)},r0=function(a){z.Qz.call(this,a);this.Z=a.get("request");this.V=
a.get("route-builder");this.Aa=a.get("screen")},dVa=function(a,b,c){return(0,z.w)(z.y(z.$Q(a,c))+'\x3cdiv class\x3d"u-marginBottom40 js-collectionStream"\x3e'+((null==a.streamItems?0:a.streamItems.length)?z.y(z.MP({items:a.streamItems,context:c.j.eb.bK,collection:a.collection},0,c)):'\x3cdiv class\x3d"u-textAlignCenter u-marginTop180 u-marginBottom180 js-streamItem js-noPosts"\x3e'+z.y(z.OP({SI:(0,z.M)("This publication does not have any stories yet.")}))+"\x3c/div\x3e")+"\x3c/div\x3e"+z.y(z.aE(a,
c))+z.y(z.bE(a,c))+z.y(z.YQ({collection:a.collection,content:(0,z.M)(""+z.y(z.ZQ(a,c)))},c)))},s0=function(a,b,c){z.RB.call(this,a,b,c);this.Ob=b.collectionSlug;this.V8=this.Ua=null;this.qa=a.get("popover");this.xi=a.get("referrer-tracker");this.Na=a.get("screen-request");this.Sa=null;this.qh=!!c.wj},t0=function(a){z.Qz.call(this,a);this.Aa=a.get("screen")},u0=function(a){z.Qz.call(this,a);this.Aa=a.get("screen")},v0=function(a){z.Qz.call(this,a);this.Aa=a.get("screen")},eVa=function(a,b,c){var d=
a.dD,e=a.streamItems;null==a.heroPromos||z.la(a.heroPromos);var g=a.heroPromos;b="";var k=d==c.j.eb.ys,d='\x3cdiv class\x3d"js-homeStream"\x3e'+z.y(z.MP({items:e,context:d},0,c))+"\x3c/div\x3e",d=(0,z.M)(d);a=z.y(z.AT({navBar:a.navBar,Sea:k},c))+'\x3cdiv class\x3d"homeContainer u-clearfix js-homepage"\x3e'+z.y(d)+(g&&g.length?z.y(z.hF({promo:g[0],DCa:!0},0,c)):"");g='\x3cdiv class\x3d"'+z.C(z.Ke("u-foreground u-minHeight100vh"))+'"\x3e';k=(0,z.w)('\x3cdiv class\x3d"extreme-container12col u-flex u-marginTop48"\x3e\x3cdiv class\x3d"extreme-container8col u-width100pct u-flex1 u-borderBox u-paddingRight24 extreme-10colSizeFull extreme-10colPadding0 js-mainfeed"\x3e'+
z.y(p0())+z.y(p0())+z.y(p0())+z.y(p0())+'\x3c/div\x3e\x3cdiv class\x3d"extreme-container4col u-flex0 extreme-10colHide u-heightInherit"\x3e\x3cdiv class\x3d"extremeSidebar extreme-container4col" data-scroll\x3d"dock" data-dock-offset\x3d"js-metabarBottom"\x3e\x3cdiv class\x3d"js-sidebar"\x3e'+z.y(cVa())+z.y(cVa())+"\x3c/div\x3e"+z.y(z.hKa(null,c))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");c=""+(g+k+z.y(z.aE(null,c))+"\x3c/div\x3e");c=(0,z.w)(c);return(0,z.w)(b+(a+c+"\x3c/div\x3e"))},w0=function(a,b,
c){z.RB.call(this,a,b,c);this.ya=a.get("app");this.Na=a.get("screen-request");a.get("routeManager").rg(this.path);this.rb=a.get("list-store");this.V=a.get("route-builder");this.lb=a.get("dom-monitor");this.ob=a.get("element-tracker");this.qa=a.get("popover");this.jw=this.kg=this.fF=this.Sa=null},fVa=function(a){var b={},b=(b.ignoredIds=x0(a),b),b=a.V.R(z.jza,null,b);z.t(a.Na.yb(b,z.rM,null,!1),function(b){var d=a.query(".js-sidebar");d&&(z.Kv(d,z.MP,{items:b.streamItems,context:40}),a.ob.xl())})},
gVa=function(a){var b={},b=(b.ignoredIds=x0(a),b),c=z.yo("forceRerankFeed");c&&(b.forceRerankFeed=c);var d=a.V.R(z.XH,null,b);z.t(a.Na.yb(d,z.rM,null,!0),function(){var b=a.query(".js-mainfeed"),c=a.query(".js-homeStream"),k=a.rb.cm[d];if(k){var l=z.RC(k),p="section"===z.Af(l[0],"itemType"),q=p?l.slice(0,1):[],l=p?l.slice(1):l;c&&0<q.length&&(z.Kv(c,z.MP,{items:q,context:30}),z.Ui(z.Pi).enable_mute&&(q=new z.nT(a.ua(),k,q[0],30),q.Ga(c),a.track(q)),0<k.ue.length&&k.remove(k.ue[0]));b&&z.Kv(b,z.MP,
{items:l,context:39});c=new z.DS(a.ua(),k);c.Ga(b);c.md(39);c.As=!0;a.track(c);a.kg=c}})},hVa=function(a){var b={},b=(b.ignoredIds=x0(a),b),c=z.yo("forceRerankFeed");c&&(b.forceRerankFeed=c);var d=a.V.R(z.XH,null,b);z.t(a.Na.yb(d,z.rM,null,!0),function(){var b=a.query(".js-mainfeed"),c=a.rb.cm[d];c&&(b&&z.Kv(b,z.MP,{items:z.RC(c),context:39}),c=new z.DS(a.ua(),c),c.Ga(b),c.md(39),c.As=!0,a.track(c),a.kg=c)})},x0=function(a){return 0==z.RC(a.Sa).length?[]:bVa(z.RC(a.Sa)).section.items.map(function(a){return a.post.postId})};
z.r(j0,z.H);j0.prototype.F=function(){return""};j0.prototype.H=function(){return""};j0.prototype.J=function(){return j0.prototype};j0.prototype.D={name:"TopStoriesNavigation",L:!1,fields:{titleDateFormatted:{name:"titleDateFormatted",g:z.U,h:1},prevSlug:{name:"prevSlug",g:z.U,h:2},nextSlug:{name:"nextSlug",g:z.U,h:3}},N:{}};z.r(k0,z.Lf);z.f=k0.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.Mb=function(){return z.F(this,"collection")};z.f.Le=z.h(508);z.f.J=function(){return k0.prototype};
z.f.D={name:"CollectionPageStreamResponse",L:!1,fields:{collection:{name:"collection",g:function(){return z.ph},h:1},streamItems:{name:"streamItems",g:function(){return z.qM},aa:z.T,h:2},paging:{name:"paging",g:function(){return z.Qh},h:3},header:{name:"header",g:function(){return z.rg},h:4}},N:{}};z.f.Le=z.Y(508,function(){return z.F(this,"streamItems")});z.r(l0,z.Lf);z.f=l0.prototype;z.f.F=function(){return""};z.f.H=function(){return""};z.f.Le=z.h(505);z.f.m0=z.h(523);z.f.Fx=z.h(524);z.f.J=function(){return l0.prototype};
z.f.D={name:"HomepageStreamResponse",L:!1,fields:{streamItems:{name:"streamItems",g:function(){return z.qM},aa:z.T,h:1},paging:{name:"paging",g:function(){return z.Qh},h:2},heroPromos:{name:"heroPromos",g:function(){return z.Rj},aa:z.T,h:3},browsableStreamConfigList:{name:"browsableStreamConfigList",isRemoved:z.T},browsableStreamConfigIndex:{name:"browsableStreamConfigIndex",isRemoved:z.T},catalog:{name:"catalog",g:function(){return z.Ei},h:6},topStoriesNavigation:{name:"topStoriesNavigation",g:function(){return j0},
h:7},navBar:{name:"navBar",g:function(){return z.GM},h:8}},N:{}};z.f.Fx=z.Y(524,function(){return z.F(this,"navBar")});z.f.Le=z.Y(505,function(){return z.F(this,"streamItems")});z.m(m0,k0);m0.prototype.C=function(){this.qe=null;k0.prototype.C.call(this)};z.m(n0,l0);n0.prototype.C=function(){this.qe=null;l0.prototype.C.call(this)};z.dz.prototype.e2=z.Y(590,function(a){return this.mc(m0,a)});z.dz.prototype.k2=z.Y(584,function(a){return this.mc(n0,a)});
z.dz.prototype.tp=z.Y(583,function(a){return z.t(this.Z.get(a),this.k2,this)});z.aD.prototype.tp=z.Y(582,function(a,b,c){return z.t(b?z.ec(this.Ca.k2(b)):this.Ca.tp(a),function(b){this.la.nc(b);var e=z.OM(this,a);z.TC(e,b.streamItems,b.paging);c&&z.QC(e,"source",c);b.qe=e},this)});z.nD.prototype.tp=z.Y(581,function(a,b){return z.oD(this,a,function(){return this.rb.tp(a,b)})});l0.prototype.m0=z.Y(523,function(){return z.F(this,"heroPromos")});z.ph.prototype.EP=z.Y(239,function(){return z.F(this,"collectionFeatures")});
z.uN.prototype.EP=z.Y(238,function(){return z.F(this,"collectionFeatures")});z.Qf.prototype.Fc=z.Y(37,function(){return z.F(this,"createdAt")});z.Uf.prototype.Fc=z.Y(36,function(){return z.F(this,"createdAt")});z.ng.prototype.Fc=z.Y(35,function(){return z.F(this,"createdAt")});z.Kg.prototype.Fc=z.Y(34,function(){return z.F(this,"createdAt")});z.NK.prototype.Fc=z.Y(33,function(){return z.F(this,"createdAt")});z.Ph.prototype.Fc=z.Y(32,function(){return z.F(this,"createdAt")});
z.hi.prototype.Fc=z.Y(31,function(){return z.F(this,"createdAt")});z.ii.prototype.Fc=z.Y(30,function(){return z.F(this,"createdAt")});z.Ei.prototype.Fc=z.Y(29,function(){return z.F(this,"createdAt")});z.ej.prototype.Fc=z.Y(28,function(){return z.F(this,"createdAt")});z.uq.prototype.Fc=z.Y(27,function(){return z.F(this,"createdAt")});z.Mq.prototype.Fc=z.Y(26,function(){return z.F(this,"createdAt")});z.qM.prototype.Fc=z.Y(25,function(){return z.F(this,"createdAt")});
z.IM.prototype.Fc=z.Y(24,function(){return z.F(this,"createdAt")});z.BM.prototype.Fc=z.Y(23,function(){return z.F(this,"createdAt")});z.js.prototype.Fc=z.Y(22,function(){return z.F(this,"createdAt")});z.vM.prototype.Fc=z.Y(21,function(){return z.F(this,"createdAt")});z.Vy.prototype.Fc=z.Y(20,function(){return z.F(this,"createdAt")});z.Xy.prototype.Fc=z.Y(19,function(){return z.F(this,"createdAt")});z.r(q0,z.H);q0.prototype.F=function(){return""};q0.prototype.H=function(){return""};
q0.prototype.J=function(){return q0.prototype};q0.prototype.D={name:"EntityClientPresented",L:!1,fields:{entityId:{name:"entityId",g:z.U,h:1},entityType:{name:"entityType",g:function(){return z.YAa},h:2}},N:{}};z.m(r0,z.Qz);z.f=r0.prototype;z.f.S=function(){z.Qz.prototype.S.call(this);z.O(this.Aa.U()).O("open-promo-link",this.fna,this)};z.f.ka=function(){z.Qz.prototype.ka.call(this);z.O(this.Aa.U()).clear("open-promo-link")};
z.f.Iu=function(a){Object.keys(a||{}).forEach(function(b){var c=a[b].getAttribute("data-collection-id");z.tx(z.YEa,{promoId:b,collectionId:c})})};z.f.fna=function(a){var b=a.target.getAttribute("data-promo-id");a=a.target.getAttribute("data-collection-id");z.tx(z.ZEa,{promoId:b,collectionId:a});return 1};z.f.ml=function(){return this.Aa.Za(".js-trackedPromo")};z.f.Ln=function(a){return a.getAttribute("data-promo-id")};z.m(s0,z.RB);z.f=s0.prototype;z.f.Dc=function(){return z.t(z.t(aVa(this.Na,this.Ob),this.Gb,this),this.Nc,this)};z.f.Rc=function(a){return z.t(aVa(this.Na,this.Ob,a),this.Gb,this)};z.f.Gb=function(a){z.UB(this,a);this.Ua=a.collection;this.V8=a.header;this.Sa=a.qe};z.f.Nc=function(){z.Kv(this.Ta,dVa,{collection:this.Ua,header:this.V8,streamItems:z.RC(this.Sa)})};
z.f.S=function(){z.RB.prototype.S.call(this);var a={collectionId:this.Ua.jb()};z.tx(z.XEa,a);if(this.Ua.Kc()&&(a=this.Ua.EP()||[],z.Ra(a,12))){var a=window.location.href,b=this.xi.Hx();z.Bx(a,b)}this.qh&&this.VY();z.Qv()||(this.oaa(),z.Pw(this,this.Sa,"add",this.oaa.bind(this)));this.Sa.Hk?z.Pw(this,this.Sa,"done",this.Zaa.bind(this)):this.Zaa()};
z.f.Qb=function(){this.track(new z.jE(this.ua()));this.track(new r0(this.ua()));this.track(new z.UE(this.ua()));var a=this.query(".js-collectionStream"),b=new z.DS(this.ua(),this.Sa);b.md(14);b.Ga(a);this.track(b)};z.f.IH=function(){return new z.FD({collectionId:this.Ua.jb()})};z.f.VY=function(){var a=this.query(".js-pubManageMenu");a&&z.fy(z.hy(z.iy(this.qa).Pa(z.ELa,{title:z.Jv(z.KLa),gx:z.Jv(z.JLa),B3:!0}),a).rf(this.U()),{j1:!0}).ba()};
z.f.oaa=function(){var a=this.query(".js-aboutCollectionBox");a&&z.Kv(a,z.QP,{collection:this.Ua})};z.f.Zaa=function(){var a=this.query(".js-collectionFooter");z.es(a)};z.m(t0,z.Qz);t0.prototype.ml=function(){return this.Aa.Za(".js-trackedEntity")};t0.prototype.Ln=function(a){return a.getAttribute("data-entity-id")};t0.prototype.Iu=function(a){a=a||{};z.fb(a,function(a,c){a=Number(a.getAttribute("data-entity-type"));!a||(0,window.isNaN)(a)?window.console.error("Entity "+c+" does not have an entity type."):(c=(new q0({entityId:c,entityType:a})).Ib(),z.tx(z.DFa,c))})};z.m(u0,z.Qz);u0.prototype.ml=function(){return this.Aa.Za(".js-trackedSequence")};u0.prototype.Ln=function(a){return a.getAttribute("data-sequence-id")};u0.prototype.Iu=function(a){a=a||{};z.hb(a).forEach(function(a){z.tx(z.iGa,{sequenceId:a})})};z.m(v0,z.Qz);v0.prototype.ml=function(){return this.Aa.Za(".js-trackedTopic")};v0.prototype.Ln=function(a){return a.getAttribute("data-topic-id")};v0.prototype.fM=function(a){return a.getAttribute("data-source")||""};v0.prototype.Iu=function(a){var b=this;a=a||{};z.hb(a).forEach(function(c){var d=b.fM(a[c]);z.tx(z.EFa,{topicId:c,source:d})})};z.m(w0,z.RB);z.f=w0.prototype;z.f.Dc=function(){return z.t(z.t(this.Na.tp(this.path),this.F8,this),this.Nc,this)};z.f.JH=function(){return null};z.f.hl=function(){return z.Hi()?z.Qv()?"gentle":"aggressive":"none"};z.f.Rc=function(a){return z.t(this.Na.tp(this.path,a),this.F8,this)};z.f.Qb=function(){this.track(new z.JD(this.ua()));this.track(new z.jE(this.ua()));this.track(new v0(this.ua()));this.track(new t0(this.ua()));this.track(new z.UE(this.ua()));this.track(new u0(this.ua()));this.zF();this.bw()};
z.f.Lx=function(){return z.Ri()?30:1};
z.f.S=function(){var a=this;z.RB.prototype.S.call(this);var b={};b.count=this.Sa.ne();var c;a:switch(this.Lx()){case 30:c="grid_home";break a;default:c="reading_list"}b.context=c;z.tx(z.cDa,b);z.F(z.Pi,"isSwBoot")&&"/"==this.path&&(this.fF=this.Na.tp("/?swfillcache\x3d1"),z.t(this.fF,function(b){var c=b.qe,d=z.PC(a.Sa,0);z.PC(c,0).Fc()>d.Fc()&&(a.kg&&(z.Rw(a,a.kg),a.kg.pg()),z.TC(a.Sa,z.RC(c),b.paging),(b=a.query(".js-homeStream"))&&z.Kv(b,z.MP,{items:z.RC(a.Sa),context:a.Lx()}),a.bw())}));var b=
this.Za(".js-metabar .js-metabarGetStarted"),d=this.Ew;d&&!z.vt(b)&&(0,z.db)(b,function(b){z.Pw(a,d,"affix",function(){z.es(b)});z.Pw(a,d,"dock",function(){z.ds(b)})});z.Ui(z.Pi).enable_expanded_feature_chunk_pool?gVa(this):hVa(this);fVa(this);z.Ui(z.Pi).enable_branch_io&&z.mC({is_logged_in:z.Ri(),is_member:!!z.Qi().mediumMemberAt})};z.f.ka=function(){this.fF&&(this.fF.cancel(!0),this.fF=null);z.RB.prototype.ka.call(this)};
z.f.bw=function(){var a=this.query(".js-homeStream");if(a){var b=new z.DS(this.ua(),this.Sa);b.Ga(a);b.md(this.Lx());b.As=!0;this.track(b);this.kg=b}};z.f.F8=function(a){this.Sa=z.FN(a.qe,25);this.jw=a.Fx()};z.f.Nc=function(a){z.UB(this,a);a={navBar:a.Fx(),streamItems:z.RC(this.Sa),dD:this.Lx(),heroPromos:a.m0()};z.Kv(this.Ta,eVa,a)};z.f.zF=function(){this.jw&&this.track(new z.KT(this.ua(),this.jw))};z.f.v2=z.Jpa();var iVa=z.ax;z.dx(z.dx(iVa.ua().scope("app"),"CollectionHomeScreen",s0),"HomeScreen",w0);z.JN(iVa,"home-screens");}).call(this, _mdm);
